<div class="container mt-4">

  <!-- Encabezado -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="bi bi-person-vcard"></i> Gesti√≥n de M√©dicos</h2>
    <button class="btn btn-primary" (click)="mostrarFormulario = !mostrarFormulario">
      {{ mostrarFormulario ? 'Volver a la lista' : 'Nuevo M√©dico' }}
    </button>
  </div>

  <!-- üîπ Formulario de registro -->
  <div *ngIf="mostrarFormulario" class="card shadow-sm p-4 mb-4">
    <h4 class="mb-3">Registrar M√©dico</h4>

    <form [formGroup]="medicoForm" (ngSubmit)="guardarMedico()">
      <div class="row mb-3">
        <div class="col-md-4">
          <label class="form-label">Tipo de Documento *</label>
          <input type="text" formControlName="tipoDocumento" class="form-control" placeholder="CC, TI, CE">
        </div>
        <div class="col-md-4">
          <label class="form-label">N√∫mero de Documento *</label>
          <input type="text" formControlName="numeroDocumento" class="form-control" placeholder="Ingrese n√∫mero">
        </div>
        <div class="col-md-4">
          <label class="form-label">Registro Profesional</label>
          <input type="text" formControlName="registroProfesional" class="form-control" placeholder="Ingrese registro">
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-4">
          <label class="form-label">Nombres *</label>
          <input type="text" formControlName="nombres" class="form-control" placeholder="Ingrese nombres">
        </div>
        <div class="col-md-4">
          <label class="form-label">Apellidos *</label>
          <input type="text" formControlName="apellidos" class="form-control" placeholder="Ingrese apellidos">
        </div>
        <div class="col-md-4">
          <label class="form-label">Tel√©fono</label>
          <input type="text" formControlName="telefono" class="form-control" placeholder="Ingrese tel√©fono">
        </div>
      </div>

      <div class="row mb-4">
        <div class="col-md-6">
          <label class="form-label">Especializaci√≥n *</label>
          <select formControlName="especializacionId" class="form-select">
            <option value="">Seleccione una especializaci√≥n</option>
            <option value="1">Cardiolog√≠a</option>
            <option value="2">Neurolog√≠a</option>
          </select>
        </div>
      </div>

      <div class="text-center">
        <button class="btn btn-success px-4" type="submit" [disabled]="medicoForm.invalid">
          Guardar M√©dico
        </button>
      </div>
    </form>
  </div>

  <!-- üîπ Tabla de m√©dicos -->
  <div *ngIf="!mostrarFormulario" class="card shadow-sm">
    <div class="card-body">
      <h4 class="card-title mb-3">Lista de M√©dicos</h4>
      <table class="table table-striped table-hover">
        <thead class="table-light">
          <tr>
            <th>Id</th>
            <th>Nombre completo</th>
            <th>Documento</th>
            <th>Especializaci√≥n</th>
            <th>Tel√©fono</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let medico of medicos">
            <td>{{ medico.id }}</td>
            <td>{{ medico.nombres }} {{ medico.apellidos }}</td>
            <td>{{ medico.numeroDocumento }}</td>
            <td>{{ medico.especializacion?.nombre }}</td>
            <td>{{ medico.telefono || '-' }}</td>
            <td>
              <button class="btn btn-outline-primary btn-sm me-2">
                <i class="bi bi-pencil-square"></i> Editar
              </button>
              <button class="btn btn-outline-danger btn-sm">
                <i class="bi bi-trash"></i> Eliminar
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


